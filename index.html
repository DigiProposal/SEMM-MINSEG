<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lisis Financiero: Provisi√≥n de Ambulancias SVA - MINSEG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'semm-blue': '#323185',
                        'semm-red': '#ED1C24',
                        'semm-green': '#03A853',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .chart-container-tall {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 500px;
        }
        .stat-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        .stat-card:hover {
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .summary-table th {
            background-color: #F8FAFC;
            padding: 0.75rem 1rem;
            text-align: left;
            font-size: 0.875rem;
            font-weight: 600;
            color: #475569;
        }
        .summary-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #E2E8F0;
            font-size: 0.875rem;
        }
        .summary-table tfoot th, .summary-table tfoot td {
            font-weight: 700;
            font-size: 1rem;
            border-top: 2px solid #94A3B8;
        }
    </style>
    <!-- Constraint Confirmation: NEITHER Mermaid JS NOR SVG were used. -->
</head>
<body class="text-slate-800">

    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-5 text-center">
            <img src="https://ik.imagekit.io/50wnllxkw/SEMM-300x81.png?updatedAt=1762387125836" alt="Logo SEMM" class="h-12 mx-auto mb-4"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <h1 class="text-3xl font-bold text-center text-semm-blue">An√°lisis Financiero Estrat√©gico</h1>
            <p class="text-center text-lg text-slate-600 mt-1">Provisi√≥n de Ambulancias SVA para el Ministerio de Seguridad (MINSEG)</p>
        </div>
    </header>

    <nav class="sticky top-0 bg-white shadow-lg z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-center items-center space-x-2 sm:space-x-4 md:space-x-8 py-3 overflow-x-auto">
                <a href="#section1" class="text-sm md:text-base font-medium text-slate-600 hover:text-semm-blue whitespace-nowrap">El Desaf√≠o</a>
                <a href="#section2" class="text-sm md:text-base font-medium text-slate-600 hover:text-semm-blue whitespace-nowrap">Los Modelos</a>
                <a href="#section3" class="text-sm md:text-base font-medium text-slate-600 hover:text-semm-blue whitespace-nowrap">Costo Inicial (CAPEX)</a>
                <a href="#section4" class="text-sm md:text-base font-medium text-slate-600 hover:text-semm-blue whitespace-nowrap">Costo Mensual Real</a>
                <a href="#section5" class="text-sm md:text-base font-medium text-slate-600 hover:text-semm-blue whitespace-nowrap">An√°lisis de Riesgo</a>
                <a href="#section6" class="text-sm md:text-base font-medium text-slate-600 hover:text-semm-blue whitespace-nowrap">Proyecci√≥n a 5 A√±os</a>
                <a href="#section7" class="text-sm md:text-base font-medium text-slate-600 hover:text-semm-blue whitespace-nowrap">Recomendaci√≥n</a>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">

        <section id="section1" class="my-12">
            <h2 class="text-3xl font-bold text-semm-blue mb-4 text-center">El Desaf√≠o: Cobertura SVA 24/7 para el MINSEG</h2>
            <p class="text-lg text-slate-700 max-w-4xl mx-auto text-center">
                El MINSEG requiere una flota operativa de 15 ambulancias de Soporte Vital Avanzado (SVA) con disponibilidad 24/7. El an√°lisis eval√∫a tres modelos para determinar la soluci√≥n m√°s estrat√©gica, resiliente y financieramente s√≥lida.
            </p>
        </section>

        <section id="section2" class="my-12">
            <h2 class="text-3xl font-bold text-semm-blue mb-6 text-center">Los Tres Modelos Operativos</h2>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="stat-card border-t-4 border-semm-red">
                    <h3 class="text-2xl font-bold mb-3 text-semm-red">Modelo 1: Adquisici√≥n Directa (In-House)</h3>
                    <p class="text-slate-600">El MINSEG asume el 100% de la inversi√≥n, costos y riesgos operativos.</p>
                    <ul class="list-disc list-outside pl-5 mt-4 space-y-1 text-slate-600">
                        <li>Inversi√≥n CAPEX masiva.</li>
                        <li>Gesti√≥n total de planilla 24/7 (4.5 FTE por plaza).</li>
                        <li>Gesti√≥n de mantenimientos, seguros, insumos.</li>
                        <li>Costo variable de combustible.</li>
                        <li><span class="font-bold">100% del Riesgo Operativo (Downtime).</span></li>
                    </ul>
                </div>
                <div class="stat-card border-t-4 border-semm-blue">
                    <h3 class="text-2xl font-bold mb-3 text-semm-blue">Modelo 2: Opci√≥n A (H√≠brido - B/. 15,000)</h3>
                    <p class="text-slate-600">Modelo h√≠brido donde el riesgo es compartido y los costos se duplican.</p>
                    <ul class="list-disc list-outside pl-5 mt-4 space-y-1 text-slate-600">
                        <li>Cero CAPEX.</li>
                        <li>SEMM provee activo, mantenimiento e insumos.</li>
                        <li><span class="font-bold text-semm-red">MINSEG asume</span> costo de personal (Planilla 24/7).</li>
                        <li><span class="font-bold text-semm-red">MINSEG asume</span> costo de combustible (Variable).</li>
                        <li>Carga administrativa de personal para MINSEG.</li>
                    </ul>
                </div>
                <div class="stat-card border-t-4 border-semm-green">
                    <h3 class="text-2xl font-bold mb-3 text-semm-green">Modelo 3: Opci√≥n B (Todo Incluido - B/. 21,000)</h3>
                    <p class="text-slate-600">Soluci√≥n "llave en mano". El MINSEG transfiere el 100% del riesgo.</p>
                    <ul class="list-disc list-outside pl-5 mt-4 space-y-1 text-slate-600">
                        <li><span class="font-bold">Cero CAPEX.</span></li>
                        <li><span class="font-bold">SEMM provee</span> activo, mantenimiento e insumos.</li>
                        <li><span class="font-bold">SEMM provee</span> personal calificado 24/7.</li>
                        <li><span class="font-bold">SEMM provee</span> el combustible (Costo Fijo).</li>
                        <li><span class="font-bold">Cero Riesgo Operativo y Administrativo.</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="section3" class="my-12 stat-card">
            <h2 class="text-3xl font-bold text-semm-blue mb-4 text-center">Costo Inicial (CAPEX): La Barrera de Entrada</h2>
            <p class="text-lg text-slate-700 max-w-4xl mx-auto text-center mb-8">
                El Modelo In-House requiere una inversi√≥n inicial de B/. 4,050,000 para una flota de 15 ambulancias. Los modelos de tercerizaci√≥n eliminan esta barrera por completo, liberando fondos cr√≠ticos para el MINSEG.
            </p>
            <div class="chart-container-tall">
                <canvas id="capexBarChart"></canvas>
            </div>
        </section>

        <section id="section4" class="my-12 stat-card">
            <h2 class="text-3xl font-bold text-semm-blue mb-4 text-center">An√°lisis de Costo Mensual Real (Por Unidad)</h2>
            <p class="text-lg text-slate-700 max-w-4xl mx-auto text-center mb-8">
                El Modelo 2 (H√≠brido) es el m√°s costoso al sumar la membres√≠a y los costos de personal/combustible que asume el MINSEG. El costo del Modelo 1 (In-House) y el Modelo 3 (Todo Incluido) son casi id√©nticos, pero el Modelo 3 transfiere todo el riesgo.
            </p>
            
            <div class="overflow-x-auto my-8">
                <table class="w-full max-w-4xl mx-auto shadow-md rounded-lg overflow-hidden summary-table">
                    <thead>
                        <tr>
                            <th class="text-left">Concepto de Costo</th>
                            <th class="text-right text-semm-red">Modelo 1: TCO In-House</th>
                            <th class="text-right text-semm-blue">Modelo 2: Opci√≥n A (H√≠brido)</th>
                            <th class="text-right text-semm-green">Modelo 3: Opci√≥n B (Todo Incluido)</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white">
                        <tr>
                            <td>Costos de Activo y Servicio</td>
                            <td class="text-right">B/. 6,908</td>
                            <td class="text-right">B/. 0</td>
                            <td class="text-right">B/. 0</td>
                        </tr>
                        <tr>
                            <td>Insumos M√©dicos (SVA)</td>
                            <td class="text-right">B/. 2,500</td>
                            <td class="text-right">B/. 0</td>
                            <td class="text-right">B/. 0</td>
                        </tr>
                        <tr>
                            <td>Costos de Gesti√≥n y Administraci√≥n</td>
                            <td class="text-right">B/. 500</td>
                            <td class="text-right">B/. 0</td>
                            <td class="text-right">B/. 0</td>
                        </tr>
                        <tr>
                            <td>Tarifa de Membres√≠a SEMM</td>
                            <td class="text-right">B/. 0</td>
                            <td class="text-right">B/. 15,000</td>
                            <td class="text-right">B/. 21,000</td>
                        </tr>
                        <tr>
                            <td>Costo de Personal (OVE + TUM 24/7)</td>
                            <td class="text-right">B/. 10,480</td>
                            <td class="text-right">B/. 10,480</td>
                            <td class="text-right">B/. 0</td>
                        </tr>
                        <tr>
                            <td>Costo de Combustible (Diesel)</td>
                            <td class="text-right">B/. 224</td>
                            <td class="text-right">B/. 224</td>
                            <td class="text-right">B/. 0</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr class="bg-slate-50">
                            <th class="text-left">GRAN TOTAL (Costo Mensual)</th>
                            <td class="text-right text-semm-red">B/. 20,712</td>
                            <td class="text-right text-semm-blue">B/. 25,704</td>
                            <td class="text-right text-semm-green">B/. 21,000</td>
                        </tr>
                    </tfoot>
                </table>
            </div>

            <div class="chart-container-tall">
                <canvas id="opexBarChart"></canvas>
            </div>
        </section>

        <section id="section5" class="my-12 stat-card">
            <h2 class="text-3xl font-bold text-semm-blue mb-4 text-center">An√°lisis de Riesgo: El Valor de B/. 288</h2>
            <p class="text-lg text-slate-700 max-w-4xl mx-auto text-center mb-8">
                El costo mensual de gestionar una ambulancia internamente es de B/. 20,712. El costo de tercerizar el 100% del servicio es B/. 21,000. Esa diferencia nominal de B/. 288 mensuales no es un costo, es el precio de la transferencia total del riesgo.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="text-center p-6 bg-red-50 rounded-lg border border-semm-red">
                    <h3 class="text-xl font-semibold text-semm-red mb-2">Modelo 1: In-House</h3>
                    <div class="text-5xl font-bold text-semm-red">
                        B/. 20,712 / mes
                    </div>
                    <p class="text-slate-600 mt-4 font-bold">MINSEG Asume 100% del Riesgo:</p>
                    <ul class="list-disc list-outside pl-8 text-left text-slate-600 mt-2">
                        <li>Gesti√≥n de Planilla 24/7</li>
                        <li>Volatilidad del Combustible</li>
                        <li>Costos de Mantenimiento</li>
                        <li>Riesgo de "Downtime"</li>
                        <li>Gesti√≥n Administrativa</li>
                    </ul>
                </div>
                <div class="text-center p-6 bg-green-50 rounded-lg border border-semm-green">
                    <h3 class="text-xl font-semibold text-semm-green mb-2">Modelo 3: Todo Incluido</h3>
                    <div class="text-5xl font-bold text-semm-green">
                        B/. 21,000 / mes
                    </div>
                    <p class="text-slate-600 mt-4 font-bold">Por solo B/. 288 m√°s, SEMM Asume 100% del Riesgo:</p>
                    <ul class="list-disc list-outside pl-8 text-left text-slate-600 mt-2">
                        <li><span class="font-bold text-semm-green">INCLUYE</span> Personal 24/7</li>
                        <li><span class="font-bold text-semm-green">INCLUYE</span> Combustible</li>
                        <li><span class="font-bold text-semm-green">INCLUYE</span> Mantenimiento y Reemplazo</li>
                        <li><span class="font-bold text-semm-green">CERO</span> "Downtime" para MINSEG</li>
                        <li><span class="font-bold text-semm-green">INCLUYE</span> Gesti√≥n y Software</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="section6" class="my-12 stat-card">
            <h2 class="text-3xl font-bold text-semm-blue mb-4 text-center">Proyecci√≥n a 5 A√±os: Costo Total de Propiedad (TCO) - Flota de 15</h2>
            <p class="text-lg text-slate-700 max-w-4xl mx-auto text-center mb-8">
                El TCO a 5 a√±os revela el impacto financiero real. El Modelo 3 (Todo Incluido) no solo es 100% predecible, sino que es B/. 3.7M m√°s econ√≥mico que la Compra Directa y B/. 4.2M m√°s econ√≥mico que el Modelo H√≠brido.
            </p>
            <div class="chart-container-tall">
                <canvas id="tcoLineChart"></canvas>
            </div>
        </section>

        <section id="section7" class="my-12">
            <h2 class="text-3xl font-bold text-semm-blue mb-6 text-center">Conclusi√≥n y Recomendaci√≥n Estrat√©gica</h2>
            <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="stat-card p-6">
                    <div class="text-4xl mb-3">üí∞</div>
                    <h4 class="text-xl font-bold text-semm-green mb-2">Menor Costo Total</h4>
                    <p class="text-slate-600">El Modelo 3 (Opci√≥n B) es la opci√≥n con el menor costo TCO a 5 a√±os (B/. 18.9M), ahorrando millones al estado.</p>
                </div>
                <div class="stat-card p-6">
                    <div class="text-4xl mb-3">üõ°Ô∏è</div>
                    <h4 class="text-xl font-bold text-semm-green mb-2">Transferencia Total de Riesgo</h4>
                    <p class="text-slate-600">Elimina el 100% del riesgo operativo, de personal, mantenimiento y volatilidad de combustible para el MINSEG.</p>
                </div>
                <div class="stat-card p-6">
                    <div class="text-4xl mb-3">üìä</div>
                    <h4 class="text-xl font-bold text-semm-green mb-2">Previsibilidad 100%</h4>
                    <p class="text-slate-600">Un solo costo fijo mensual (B/. 21,000) que incluye todo. Cero costos ocultos y cero CAPEX.</p>
                </div>
            </div>
            <div class="mt-10 p-6 bg-white rounded-lg shadow-xl max-w-4xl mx-auto border-t-4 border-semm-green">
                <p class="text-xl text-center text-slate-700">
                    El <strong>Modelo 3: Tercerizaci√≥n "Todo Incluido" (Opci√≥n B)</strong> es financieramente superior y estrat√©gicamente la decisi√≥n m√°s s√≥lida. Elimina la inversi√≥n inicial de B/. 4M, transfiere todos los riesgos y ofrece el costo total a 5 a√±os m√°s bajo (B/. 18.9M).
                </p>
                <h3 class="text-2xl font-bold text-semm-green text-center mt-4">Esta es la opci√≥n m√°s costo-eficiente y de menor riesgo para el MINSEG.</h3>
            </div>
        </section>

    </main>

    <footer class="bg-semm-blue text-white mt-12 py-6">
        <div class="container mx-auto px-4 text-center">
            <img src="https://ik.imagekit.io/50wnllxkw/SEMM-300x81.png?updatedAt=1762387125836" alt="Logo SEMM" class="h-10 mx-auto mb-4" style="filter: brightness(0) invert(1);">
            <p>&copy; 2025 | An√°lisis Estrat√©gico de Provisi√≥n de Servicios de Ambulancia SVA.</p>
        </div>
    </footer>

    <script>
        (function() {
            const wrapLabel = (label) => {
                const maxLen = 16;
                if (typeof label !== 'string' || label.length <= maxLen) {
                    return label;
                }
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                for (const word of words) {
                    if ((currentLine + ' ' + word).length > maxLen && currentLine.length > 0) {
                        lines.push(currentLine);
                        currentLine = word;
                    } else {
                        currentLine = currentLine ? currentLine + ' ' + word : word;
                    }
                }
                if (currentLine) {
                    lines.push(currentLine);
                }
                return lines;
            };

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                }
                return label;
            };

            const formatCurrency = (value) => {
                return new Intl.NumberFormat('es-PA', {
                    style: 'currency',
                    currency: 'PAB',
                    minimumFractionDigits: 0
                }).format(value).replace('PAB', 'B/.');
            };

            const commonOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: (tooltipItems) => {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                    return label.join(' ');
                                }
                                return label;
                            },
                            label: (context) => {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null && context.parsed.y > 0) {
                                    label += formatCurrency(context.parsed.y);
                                } else {
                                    label = ''; 
                                }
                                return label;
                            }
                        }
                    },
                    legend: {
                        position: 'bottom',
                    }
                },
                scales: {
                    y: {
                        ticks: {
                            callback: (value) => formatCurrency(value)
                        },
                        beginAtZero: true
                    }
                }
            };
            
            const rawLabelsCapex = ['Modelo 1: In-House', 'Modelo 2: Opci√≥n A', 'Modelo 3: Opci√≥n B'];
            const ctx1 = document.getElementById('capexBarChart')?.getContext('2d');
            if (ctx1) {
                new Chart(ctx1, {
                    type: 'bar',
                    data: {
                        labels: rawLabelsCapex.map(wrapLabel),
                        datasets: [{
                            label: 'Inversi√≥n Inicial (CAPEX)',
                            data: [4050000, 0, 0],
                            backgroundColor: ['#ED1C24', '#323185', '#03A853'],
                        }]
                    },
                    options: {
                        ...commonOptions,
                        plugins: {
                             ...commonOptions.plugins,
                            legend: { display: false }
                        }
                    }
                });
            }

            const rawLabelsOpex = ['Modelo 1: In-House', 'Modelo 2: Opci√≥n A', 'Modelo 3: Opci√≥n B'];
            const ctx2 = document.getElementById('opexBarChart')?.getContext('2d');
            if (ctx2) {
                new Chart(ctx2, {
                    type: 'bar',
                    data: {
                        labels: rawLabelsOpex.map(wrapLabel),
                        datasets: [
                            {
                                label: 'Activo/Manto/Gesti√≥n/Insumos (MINSEG)',
                                data: [6908 + 2500 + 500, 0, 0],
                                backgroundColor: '#F87171',
                                stack: 'stack1'
                            },
                            {
                                label: 'Personal (Planilla MINSEG)',
                                data: [10480, 10480, 0],
                                backgroundColor: '#ED1C24',
                                stack: 'stack1'
                            },
                            {
                                label: 'Combustible (Variable MINSEG)',
                                data: [224, 224, 0],
                                backgroundColor: '#FCD34D',
                                stack: 'stack1'
                            },
                            {
                                label: 'Membres√≠a SEMM (Opci√≥n A)',
                                data: [0, 15000, 0],
                                backgroundColor: '#323185',
                                stack: 'stack1'
                            },
                            {
                                label: 'Membres√≠a SEMM (Opci√≥n B - Todo Incluido)',
                                data: [0, 0, 21000],
                                backgroundColor: '#03A853',
                                stack: 'stack1'
                            }
                        ]
                    },
                    options: {
                        ...commonOptions,
                        scales: {
                            x: {
                                stacked: true,
                            },
                            y: {
                                stacked: true,
                                ...commonOptions.scales.y
                            }
                        },
                        plugins: {
                            ...commonOptions.plugins,
                            tooltip: {
                                ...commonOptions.plugins.tooltip,
                                callbacks: {
                                    ...commonOptions.plugins.tooltip.callbacks,
                                    title: (tooltipItems) => {
                                        const item = tooltipItems[0];
                                        let label = rawLabelsOpex[item.dataIndex];
                                        return Array.isArray(label) ? label.join(' ') : label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            const ctx3 = document.getElementById('tcoLineChart')?.getContext('2d');
            if (ctx3) {
                const labels = ['A√±o 0', 'A√±o 1', 'A√±o 2', 'A√±o 3', 'A√±o 4', 'A√±o 5'];
                
                const opexInHouse = 20712 * 15 * 12; 
                const opexOp1 = 25704 * 15 * 12;
                const opexOp2 = 21000 * 15 * 12;
                const capexInHouse = 4050000;
                
                const dataInHouse = [
                    capexInHouse,
                    capexInHouse + (opexInHouse),
                    capexInHouse + (opexInHouse * 2),
                    capexInHouse + (opexInHouse * 3),
                    capexInHouse + (opexInHouse * 4),
                    capexInHouse + (opexInHouse * 5)
                ];
                
                const dataOp1 = [
                    0,
                    opexOp1,
                    opexOp1 * 2,
                    opexOp1 * 3,
                    opexOp1 * 4,
                    opexOp1 * 5
                ];

                const dataOp2 = [
                    0,
                    opexOp2,
                    opexOp2 * 2,
                    opexOp2 * 3,
                    opexOp2 * 4,
                    opexOp2 * 5
                ];

                new Chart(ctx3, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: 'Costo Acumulado In-House',
                                data: dataInHouse,
                                borderColor: '#ED1C24',
                                backgroundColor: 'rgba(237, 28, 36, 0.1)',
                                fill: true,
                                tension: 0.1
                            },
                             {
                                label: 'Costo Acumulado Opci√≥n A (H√≠brido)',
                                data: dataOp1,
                                borderColor: '#323185',
                                backgroundColor: 'rgba(50, 49, 133, 0.1)',
                                fill: true,
                                tension: 0.1
                            },
                            {
                                label: 'Costo Acumulado Opci√≥n B (Todo Incluido)',
                                data: dataOp2,
                                borderColor: '#03A853',
                                backgroundColor: 'rgba(3, 168, 83, 0.1)',
                                fill: true,
                                tension: 0.1
                            }
                        ]
                    },
                    options: {
                        ...commonOptions,
                        plugins: {
                             ...commonOptions.plugins,
                            tooltip: {
                                ...commonOptions.plugins.tooltip,
                                callbacks: {
                                    ...commonOptions.plugins.tooltip.callbacks,
                                    label: (context) => {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += formatCurrency(context.parsed.y);
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

        })();
    </script>
</body>
</html>
